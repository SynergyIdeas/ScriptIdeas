# ======================================================================
# Citrix Platform Installation Configuration File
# ======================================================================
# This file contains all configuration parameters for the Citrix 
# installation scripts. Modify values as needed for your environment.
# 
# Format: Key=Value (no spaces around =)
# Comments start with # and are ignored
# Environment variables can be used with %VARIABLE% syntax
# Boolean values: true/false
# Numeric values: integers only
# ======================================================================

# ======================
# NETWORK SOURCE PATHS
# ======================
# Network paths where installation files are stored
# These paths should be accessible from the target system during installation

# Main network source directory for all deployment files
NetworkSourcePath=\\fileserver\citrix

# Local installation directory (must be defined before use in other variables)
LocalInstallPath=C:\Temp

# VDA Installation Source
VDAISOSourcePath=%NetworkSourcePath%\installers\VDA\VDAServerSetup_2402.iso
VDAISOPath=%LocalInstallPath%\VDA.iso

# PVS Target Device Installation Source (leave empty to skip)
PVSISOSourcePath=%NetworkSourcePath%\installers\PVS\PVS_Target_2402.iso
PVSISOPath=%LocalInstallPath%\PVS.iso

# WEM Agent Installation (leave empty to skip)
WEMInstallerSourcePath=%NetworkSourcePath%\installers\WEM\Citrix_Workspace_Environment_Management_Agent_2402.msi
WEMInstallerPath=%LocalInstallPath%\WEMAgent.msi

# UberAgent Installation (leave empty to skip)
UberAgentInstallerSourcePath=%NetworkSourcePath%\installers\UberAgent\\uberAgent_7.0.0.msi
UberAgentInstallerPath=%LocalInstallPath%\UberAgent.msi

# UberAgent Template and Configuration Files
UberAgentTemplatesPath=%NetworkSourcePath%\UberAgent\Templates
UberAgentTemplatesSourcePath=%NetworkSourcePath%\UberAgent\Templates
UberAgentTemplatesLocalPath=C:\Program Files\vast limits\\uberAgent\config\templates
UberAgentConfigPath=%NetworkSourcePath%\UberAgent\Config
UberAgentConfigSourcePath=%NetworkSourcePath%\UberAgent\uberagent.conf
UberAgentConfigLocalPath=C:\Program Files\vast limits\uberAgent\config\\uberagent.conf
UberAgentLicensePath=%NetworkSourcePath%\UberAgent\License
UberAgentLicenseSourcePath=%NetworkSourcePath%\UberAgent\uberagent.lic
UberAgentLicenseLocalPath=C:\Program Files\vast limits\\uberAgent\config\\uberagent.lic

# UberAgent Post-Installation Configuration
UberAgentOutputDirectory=D:\Logs\\uberAgent\%UberAgentOutputQueueName%
UberAgentOutputQueueName=Output Queue
UberAgentServiceName=uberAgentsvc
UberAgentRegistryPath=HKLM:\Software\vast limits\uberAgent
UberAgentTempLogPattern=uberagent*.log

# IBM TADDM Installation (local install.bat execution)
TADDMPath=C:\IBM\TADDM\nonadmin_scripts\install.bat

# Stage 2 Script Network Path (for copying to LocalInstallPath)
Stage2ScriptNetworkPath=%NetworkSourcePath%\scripts\citrix_stage2_script.ps1

# ======================
# STARTUP/SHUTDOWN SCRIPTS
# ======================
# Configure startup and shutdown script management for enterprise deployment
# Scripts are automatically selected based on detected Windows Server version

# Windows Server 2019 Script Sources (network paths)
StartupScriptsSourceWin2019=%NetworkSourcePath%\scripts\startup\win2019
ShutdownScriptsSourceWin2019=%NetworkSourcePath%\scripts\shutdown\win2019

# Windows Server 2022 Script Sources (network paths)
StartupScriptsSourceWin2022=%NetworkSourcePath%\scripts\startup\win2022
ShutdownScriptsSourceWin2022=%NetworkSourcePath%\scripts\shutdown\win2022

# Local Destination Paths (fully configurable)
StartupScriptsDestination=C:\Windows\System32\GroupPolicy\Machine\Scripts\Startup
ShutdownScriptsDestination=C:\Windows\System32\GroupPolicy\Machine\Scripts\Shutdown

# ======================
# CITRIX OPTIMIZER CONFIGURATION
# ======================
# Citrix Optimizer tool configuration for VDI template optimization

CitrixOptimizerPath=%NetworkSourcePath%\tools\CitrixOptimizer\CitrixOptimizer.exe
CitrixOptimizerTemplatesPath=%NetworkSourcePath%\tools\CitrixOptimizer\Templates
CitrixOptimizerOutputPath=%LocalInstallPath%\CitrixOptimizer_Results
CitrixOptimizerTemplate=Windows_Server_2019_VDI.xml

# ======================
# INSTALLATION CONTROL FLAGS
# ======================
# Enable/disable specific installation components

InstallVDA=true
InstallPVS=true
InstallWEM=false
InstallUberAgent=false
InstallTADDM=false

# System optimization settings
EnableVDIOptimizations=true
DisableWindowsServices=true
ConfigureEventLogRedirection=true

# ======================
# SYSTEM CONFIGURATION
# ======================
# Core system configuration parameters

# Cache drive configuration (D: drive mandatory for VDI performance)
CacheDriveLetter=D
CachePagefileSize=8192
RedirectEventLogsToCache=true
RedirectUserProfilesToCache=true

# CD/DVD drive relocation (automatically moved to Y: for VDI compatibility)
CDDVMTargetDrive=Y

# DNS configuration
DNSSuffix=domain.local
ConfigureDNSSuffix=true

# Pagefile configuration
PagefileSizeGB=8
PagefileLocation=D:\pagefile.sys

# ======================
# DOMAIN CONFIGURATION
# ======================
# Domain join configuration (leave empty to skip domain join)

DomainName=domain.local
DomainJoinUser=
DomainJoinPassword=
JoinDomain=false

# ======================
# VALIDATION AND ERROR HANDLING
# ======================
# Script validation and error handling configuration

ValidationMode=Enhanced
ContinueOnWarnings=true
CreateBackups=true
DetailedLogging=true

# Log file configuration
LogPath=%USERPROFILE%\Desktop\CitrixInstallation_%DATE%_%TIME%.log
LogLevel=Detailed
ArchiveOldLogs=true

# ======================
# ADVANCED OPTIMIZATION SETTINGS
# ======================
# Advanced VDI optimization parameters

# Services to disable for VDI performance
DisableWindowsUpdate=true
DisableDefender=false
DisableSuperfetch=true
DisableWindowsSearch=false

# Registry optimizations
OptimizeVDIRegistry=true
DisableUAC=false
ConfigureVisualEffects=true

# Network optimizations
OptimizeNetworkSettings=true
DisableIPv6=false
ConfigureTCPSettings=true

# Storage optimizations
EnableStorageOptimizations=true
DisableHibernation=true
ConfigureSystemRestore